(function(){"use strict";var e={7202:function(e,t,n){var o=n(5130),i=(n(4114),n(6768)),a=n(4232),r=n(144),s=n(8776),l=n(2951),c=n(2439),u=n(5533),d=n(9736),p=n(6086),w=n(4968);const f={style:{width:"100vw",height:"100vh"}},h={style:{padding:"100px 50px","font-size":"50px",color:"#fff"}};var v={__name:"App",setup(e){const t=new s.Z58,n=new s.ubm(75,window.innerWidth/window.innerHeight,.1,1e3);n.position.set(-3.23,2.98,4.06),n.updateProjectionMatrix();const o=new s.JeP({antialias:!0});o.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(o.domElement),o.outputEncoding=s.S2Q,o.toneMapping=s.FV,o.toneMappingExposure=.5,o.shadowMap.enabled=!0,o.physicallyCorrectLights=!0;const v=new l.N(n,o.domElement);v.target.set(-8,2,0),v.enableDamping=!0;const m=new u.Z;m.setDecoderPath("./draco/");const x=new c.B;x.setDRACOLoader(m);let y=new d.Y;y.load("./textures/sky.hdr",(e=>{e.mapping=s.wfO,t.background=e,t.environment=e})),x.load("./model/scene.glb",(e=>{const n=e.scene;n.traverse((e=>{"Plane"===e.name&&(e.visible=!1),e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),t.add(n)}));const b=new s.tcD(300,32),P=new p.E(b,{textureWidth:1024,textureHeight:1024,color:15658751,flowDirection:new s.I9Y(1,1),scale:100});P.rotation.x=-Math.PI/2,P.position.y=-.4,t.add(P);const M=new s.ZyN(16777215,1);M.position.set(0,50,0),t.add(M);const g=new s.HiM(16777215,50);g.position.set(.1,2.4,0),g.castShadow=!0,t.add(g);const z=new s.YJl;z.position.set(-8,2.5,-1.5);let k=3,O=[];for(let i=0;i<3;i++){const e=new s.Gu$(.2,32,32),t=new s._4j({color:16777215,emissive:16777215,emissiveIntensity:10}),n=new s.eaF(e,t);O.push(n),n.position.set(k*Math.cos(2*i*Math.PI/3),Math.cos(2*i*Math.PI/3),k*Math.sin(2*i*Math.PI/3));let o=new s.HiM(16777215,50);n.add(o),z.add(n)}t.add(z);let q={angle:0};function C(){requestAnimationFrame(C),o.render(t,n),v.update()}w.Ay.to(q,{angle:2*Math.PI,duration:10,repeat:-1,ease:"linear",onUpdate:()=>{z.rotation.y=q.angle,O.forEach(((e,t)=>{e.position.set(k*Math.cos(2*t*Math.PI/3),Math.cos(2*t*Math.PI/3+5*q.angle),k*Math.sin(2*t*Math.PI/3))}))}}),C();let E=w.Ay.timeline(),I=w.Ay.timeline();function A(e,t){E.to(n.position,{x:e.x,y:e.y,z:e.z,duration:1,ease:"power2.inOut"}),I.to(v.target,{x:t.x,y:t.y,z:t.z,duration:1,ease:"power2.inOut"})}let T=[{text:"今日快乐!",callback:()=>{A(new s.Pq0(-3.23,3,4.06),new s.Pq0(-8,2,0))}},{text:"这么大的世界里有你存在",callback:()=>{A(new s.Pq0(7,0,23),new s.Pq0(0,0,0))}},{text:"愿你会有世界上的每一份快乐",callback:()=>{A(new s.Pq0(10,3,0),new s.Pq0(5,2,0))}},{text:"愿将天上的星星送给你",callback:()=>{A(new s.Pq0(7,0,23),new s.Pq0(0,0,0)),U()}},{text:"每天快乐！",callback:()=>{A(new s.Pq0(-20,1.3,6.6),new s.Pq0(5,2,0))}}],j=(0,r.KR)(0),_=!1;window.addEventListener("wheel",(e=>{_||(_=!0,e.deltaY>0&&(j.value++,j.value>T.length-1&&(j.value=0,R())),T[j.value].callback(),setTimeout((()=>{_=!1}),1e3))}),!1);let D=new s.ZLX(new s.Gu$(.1,32,32),new s._4j({color:16777215,emissive:16777215,emissiveIntensity:10}),100),F=[],H=[];for(let i=0;i<100;i++){let e=100*Math.random()-50,t=100*Math.random()-50,n=100*Math.random()-50;F.push(new s.Pq0(e,t,n));let o=new s.kn4;o.setPosition(e,t,n),D.setMatrixAt(i,o)}t.add(D);let L=new s.ypk;L.moveTo(25,25),L.bezierCurveTo(25,25,20,0,0,0),L.bezierCurveTo(-30,0,-30,35,-30,35),L.bezierCurveTo(-30,55,-10,77,25,95),L.bezierCurveTo(60,77,80,55,80,35),L.bezierCurveTo(80,35,80,0,50,0),L.bezierCurveTo(35,0,25,25,25,25);let S=new s.Pq0(0,2,10);for(let i=0;i<100;i++){let e=L.getPoint(i/100);H.push(new s.Pq0(.1*e.x+S.x,.1*e.y+S.y,S.z))}function U(){let e={time:0};w.Ay.to(e,{time:1,duration:1,onUpdate:()=>{for(let t=0;t<100;t++){let n=F[t].x+(H[t].x-F[t].x)*e.time,o=F[t].y+(H[t].y-F[t].y)*e.time,i=F[t].z+(H[t].z-F[t].z)*e.time,a=new s.kn4;a.setPosition(n,o,i),D.setMatrixAt(t,a)}D.instanceMatrix.needsUpdate=!0}})}function R(){let e={time:0};w.Ay.to(e,{time:1,duration:1,onUpdate:()=>{for(let t=0;t<100;t++){let n=H[t].x+(F[t].x-H[t].x)*e.time,o=H[t].y+(F[t].y-H[t].y)*e.time,i=H[t].z+(F[t].z-H[t].z)*e.time,a=new s.kn4;a.setPosition(n,o,i),D.setMatrixAt(t,a)}D.instanceMatrix.needsUpdate=!0}})}return(e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:"scenes",style:(0,a.Tr)([{position:"fixed",left:"0",top:"0","z-index":"10","pointer-events":"none",transition:"all 1s"},{transform:`translate3d(0, ${100*-(0,r.R1)(j)}vh, 0)`}])},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,r.R1)(T),(e=>((0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("h1",h,(0,a.v_)(e.text),1)])))),256))],4))}};const m=v;var x=m;(0,o.Ef)(x).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],i=e[u][1],a=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,r=o[0],s=o[1],l=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var u=l(n)}for(t&&t(o);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self["webpackChunkapp"]=self["webpackChunkapp"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(7202)}));o=n.O(o)})();
//# sourceMappingURL=app.ba54bcab.js.map